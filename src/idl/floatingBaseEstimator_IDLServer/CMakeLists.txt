# Copyright (C) 2016 Istituto Italiano di Tecnologia  iCub Facility
# Authors: Silvio Traversaro
# CopyPolicy: Released under the terms of the LGPLv2.1 or later, see LGPL.TXT

cmake_minimum_required(VERSION 2.8.11)

project(floatingBaseEstimator_IDLServer)

yarp_idl_to_dir(floatingBaseEstimator_IDLServer.thrift ${CMAKE_CURRENT_SOURCE_DIR}/autogenerated WBDIDLSERVER_SRC WBDIDLSERVER_HEADERS WBDIDLSERVER_INCLUDES)


add_library(floatingBaseEstimator_IDLServer ${WBDIDLSERVER_SRC} ${WBDIDLSERVER_HEADERS})
target_include_directories(floatingBaseEstimator_IDLServer PUBLIC ${WBDIDLSERVER_INCLUDES} ${YARP_INCLUDE_DIRS})
target_link_libraries(floatingBaseEstimator_IDLServer ${YARP_LIBRARIES})

target_include_directories(floatingBaseEstimator_IDLServer PUBLIC
                            "$<BUILD_INTERFACE:${WBDIDLSERVER_INCLUDES}>"
                            "$<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/floatingBaseEstimator>")

set_property(TARGET floatingBaseEstimator_IDLServer PROPERTY PUBLIC_HEADER ${WBDIDLSERVER_HEADERS})

install(TARGETS floatingBaseEstimator_IDLServer
        RUNTIME DESTINATION "${CMAKE_INSTALL_BINDIR}" COMPONENT bin
        LIBRARY DESTINATION "${CMAKE_INSTALL_LIBDIR}" COMPONENT shlib
        ARCHIVE DESTINATION "${CMAKE_INSTALL_LIBDIR}" COMPONENT lib
        PUBLIC_HEADER DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/floatingBaseEstimator)

